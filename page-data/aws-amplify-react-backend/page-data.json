{"componentChunkName":"component---src-templates-blog-post-js","path":"/aws-amplify-react-backend/","result":{"data":{"site":{"siteMetadata":{"title":"Personal Blog"}},"markdownRemark":{"id":"c9813d25-2abb-5df0-9069-43b01556fa79","excerpt":"In this article we will take a look at the steps to configure AWS Amplify and setup User Authentication  Creating and managing users for your application can be…","html":"<p>In this article we will take a look at the steps to configure AWS Amplify and setup User Authentication</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bebe5479c74811a33563c23ef254a5ec/e5166/aws-amplify.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIE/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAEEBf/aAAwDAQACEAMQAAAB00ZNwI//xAAWEAADAAAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAQUCHP8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARICH/2gAIAQEAAT8hgB43n//aAAwDAQACAAMAAAAQgA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPxCn/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EBJJn//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/EDrkaM2ew8iYv//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS Amplify\"\n        title=\"AWS Amplify\"\n        src=\"/static/bebe5479c74811a33563c23ef254a5ec/828fb/aws-amplify.jpg\"\n        srcset=\"/static/bebe5479c74811a33563c23ef254a5ec/ff44c/aws-amplify.jpg 158w,\n/static/bebe5479c74811a33563c23ef254a5ec/a6688/aws-amplify.jpg 315w,\n/static/bebe5479c74811a33563c23ef254a5ec/828fb/aws-amplify.jpg 630w,\n/static/bebe5479c74811a33563c23ef254a5ec/0ede0/aws-amplify.jpg 945w,\n/static/bebe5479c74811a33563c23ef254a5ec/e5166/aws-amplify.jpg 1200w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Creating and managing users for your application can be difficult and time consuming to get right. With AWS Amplify you can get started easily.  During the initial development of <a href=\"https://www.goshimmy.me\">Goshimmy.me</a> we started with a simple user management implementation.  Over time, what we noticed was that our implementation had become complex and hard to scale.  As more users signed up it was clear that our applicationn required a feature rich solution.</p>\n<p>So earlier this year we started to research solutions to help us with user sign-up, Multi-Factor Authenticationn (MFA) and support for React.  AWS Amplify was at the top of the list.  Not only can we manage users but also leverage an entire set of backend capabilities like:</p>\n<ol>\n<li><a href=\"https://docs.amplify.aws/lib/auth/getting-started/q/platform/js/\">AWS Authentication</a>: Leverages <a href=\"https://aws.amazon.com/cognito/\">AWS Cognito</a> under the hood as the main authentication provider.</li>\n<li><a href=\"https://docs.amplify.aws/lib/datastore/getting-started/q/platform/js/\">AWS Amplify DataStore</a>: An on-device storage engine that automatically synchronizes data between your mobile and web apps and your database in the AWS cloud to help you build real-time and offline apps faster.</li>\n<li><a href=\"https://docs.amplify.aws/lib/analytics/getting-started/q/platform/js/\">AWS Analytics</a>: The Analytics category enables you to collect analytics data for your App</li>\n</ol>\n<p>The reason we chose AWS Amplify was to help us focus on development efforts of the core platform and not identity management capabilities.</p>\n<p>Pre-requisite is to install <a href=\"https://docs.amplify.aws/cli/start/install/\">AWS Amplify</a></p>\n<p>My project is created with React and is hosted with AWS Amplify, so below are the steps for Javascript.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g @aws-amplify/cli</code></pre></div>\n<p>Next, we have to initialize a new Amplify project by using the amplify init command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">amplify init</code></pre></div>\n<p>If you have an existing <a href=\"https://docs.amplify.aws/cli/start/install/#option-2-follow-the-instructions\">AWS Amplify project</a> and want to pull your Amplify project use the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">amplify pull --appId (your app id) --envName (env name)</code></pre></div>\n<p>Then start your project</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn start</code></pre></div>\n<h3>Add authentication</h3>\n<p>To add authentication to your app, run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">amplify add auth</code></pre></div>\n<p>This will walk you through a set of questions, for example:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">? Do you want to use the default authentication \nand security configuration? Default configuration\nWarning: you will not be able to edit these selections. \n? How do you want users to be able to sign in? Username\n? Do you want to configure advanced settings? No, I am done.</code></pre></div>\n<p>To deploy the service, run the push command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">amplify push</code></pre></div>\n<p>That’s it!  In the background, AWS Amplify is configuring Cognito, user pools, etc.  In addition, having UI for users that hooks into the autentication service we just created would be pretty neat.  Well, no worries AWS Amplify has you covered.</p>\n<h3>Add the Login UI</h3>\n<p>The <a href=\"https://docs.amplify.aws/start/getting-started/auth/q/integration/react/#create-login-ui\">AWS Amplify UI</a> authentication component provides a complete authentication flow for your application with the help of the configuration you specify in aws-export.js.  Below is the AWS UI component that we created for goshimmy.me with a link to the AWS UI component for sign-up!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7bfc2dfaf2a04f985f8215db837115e4/8078c/gs-login.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiElEQVQoz3WRy07CQBSGeQaNiUgUo5GpnSKXlhZKsSiRuHBlfAATlxqjUYlA5RJRwkUjBvCa+AwuNXHhk/1mRqhV6eLLXM45//nnjCemriIlb8LQNxA3M4hoKUTjyxw5bkJJmIjpaRtFT9txjpbiOanMOpIrWXgESYYgKSOZIyFMz4mYmiHw+Qmm/AS+WQGEutdwQZYwhF2yNSBGkbcq6N89odm+QevqFtc3XdTqLUhhjceHuU48wohuw+DeQQ7l8wYKpRqK5QucVes4yZdBQ5qrSy5I2MGZMBDMWZfo3L2g1XlAu/OI6+4zas0uaFi3Hf4TtDs5nszGEKAyjo5zaDYasKwSSqUyqpUq8vkCdxgQZfcZOp/6s49ip/CAwv0nir03WP13nPY+cNh+BQ0nQNwczgciWFiMOD7kG+bYq25jTD/EpLEPr7GPcf0AE4ldEEmFPaq/gtmtJFQzg2CUdXU4lBSIdAmUShDFIIcyaBAj5z4UNNYMRDTz98+xlRfFOMIAYqO4OvwCvpVVZA1fIKMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Login\"\n        title=\"AWS Amplify UI\"\n        src=\"/static/7bfc2dfaf2a04f985f8215db837115e4/f058b/gs-login.png\"\n        srcset=\"/static/7bfc2dfaf2a04f985f8215db837115e4/c26ae/gs-login.png 158w,\n/static/7bfc2dfaf2a04f985f8215db837115e4/6bdcf/gs-login.png 315w,\n/static/7bfc2dfaf2a04f985f8215db837115e4/f058b/gs-login.png 630w,\n/static/7bfc2dfaf2a04f985f8215db837115e4/40601/gs-login.png 945w,\n/static/7bfc2dfaf2a04f985f8215db837115e4/78612/gs-login.png 1260w,\n/static/7bfc2dfaf2a04f985f8215db837115e4/8078c/gs-login.png 2218w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Next steps</h3>\n<p>With the login and sign-up covered we can now focus on the overall user experience, optimizing the critical flows for the site and maximizing conversions for our campaigns.</p>","frontmatter":{"title":"AWS Amplify Authentication with React","date":"September 03, 2022","description":null}},"previous":{"fields":{"slug":"/splunk-kubernetes-operator/"},"frontmatter":{"title":"Splunk - Operator for Kubernetes"}},"next":null},"pageContext":{"id":"c9813d25-2abb-5df0-9069-43b01556fa79","previousPostId":"1460957d-92da-5850-ad62-a41c0c3c92df","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"]}